<div class="row col-start-large-2 col-10" id="view-mode--{{contract["contractInfo"]["id"]}}">
  <p class="col-2 p-muted-text" style="margin-bottom: .5rem">Created on</p>
  <p class="col-3 u-no-margin--top" style="margin-bottom: .5rem">{{ contract['contractInfo']['createdAtFormatted'] }}</p>
  <hr />
  <p class="col-2 p-muted-text u-no-padding--top">Ends</p>
  <p class="col-3 u-no-margin--top u-no-padding--top">{{ contract['contractInfo']['effectiveToFormatted'] }}</p>

  <div class="change-subscription">
    <p>Auto-renewal {% if subscriptions['is_auto_renewal_enabled'] %}enabled{% else %}disabled{% endif %}</p>
    <button class="p-button--neutral js-change-subscription-button" data-id="{{contract["contractInfo"]["id"]}}">Change subscription</button>
  </div>
</div>

<div class="row col-start-large-2 col-10 u-hide" id="edit-mode--{{contract["contractInfo"]["id"]}}">
  <h5 class="u-no-padding--top" style="margin-bottom: .5rem">{{contract['contractInfo']['name']}} (monthly)</h5>
  <hr />
  <div class="p-notification--caution">
    <p class="p-notification__response" role="status">
      <span class="p-notification__status">End in {{contract["contractInfo"]["daysTillExpiry"] }} days.</span>Auto-renewal disabled.
    </p>
  </div>
  <p class="p-muted-text" style="margin-bottom: .5rem">Machines</p>
  <div class="panel-input-wrapper">
    <input 
      id="resize-input--{{contract["contractInfo"]["id"]}}" 
      type="number" 
      value="{{ contract['machineCount']['allowed']}}" 
      data-next-payment="{{subscriptions["next_payment"]["ammount"]}}" 
      data-unit-price="{{contract["price_per_unit"]}}" 
      min="1" 
      max="999"
      data-billing-period="monthly"
    />
    <p class="u-hide" id="resize-summary--{{contract["contractInfo"]["id"]}}" ></p>
  </div>
  <p class="u-hide "id="new-payment--{{contract["contractInfo"]["id"]}}" ></p>
  <div class="col-6 buttons-wrapper">
    <button id="cancel-subscription--{{contract["contractInfo"]["id"]}}" 
      class="p-button--negative" 
      data-contract-name="{{contract['contractInfo']['name']}}" 
      data-machine-count="{{ contract['machineCount']['allowed']}}" 
      data-account-id="{{contract['accountInfo']['id']}}" 
      data-previous-purchase-id="{{contract['previous_purchase_id']}}"
    >
      Cancel subscription
    </button>
  </div>
  <div class="col-6 u-align--right buttons-wrapper">
    <button 
      id="cancel-changes--{{contract["contractInfo"]["id"]}}" 
      class="p-button--neutral"
    >
      Cancel changes
    </button>
    <button 
      id="save-changes--{{contract["contractInfo"]["id"]}}" 
      class="p-button--positive" 
      disabled 
      data-account-id="{{contract['accountInfo']['id']}}" 
      data-previous-purchase-id="{{contract['previous_purchase_id']}}"
    >
      Save changes
    </button>
  </div>
</div>